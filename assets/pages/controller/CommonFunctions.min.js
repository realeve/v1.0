<<<<<<< HEAD
<<<<<<< HEAD
function infoTips(e,t,a){"undefined"==typeof a&&(a=""),"undefined"==typeof t&&(t=0),infoType=["danger","success","info","warning"],App.alert({container:a,place:"append",type:infoType[t],message:e,close:!0,reset:!1,focus:!0,closeInSeconds:t?5:0,icon:"info-circle"})}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function bsTips(e,t){"undefined"==typeof t&&(t=0),toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:t?"5000":"0",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},infoType=["error","success","info","warning"],toastr[infoType[t]](e)}function PromotAlert(e,t){bootbox.prompt(e,function(e){null!==e&&success()})}function getRootPath(e){var t=window.document.location.href,a=window.document.location.pathname,n=t.indexOf(a),r=t.substring(0,n),o=a.substring(0,a.substr(1).indexOf("/")+1);return 0===e?r+o:r}function getRootUrl(e){return window.document.location.href.substring(0,window.document.location.href.indexOf(e))+e+"/"}function today(e){var t,a=new Date,n=a.getFullYear(),r=jsRight("0"+(a.getMonth()+1),2),o=jsRight("0"+a.getDate(),2),i=a.getHours(),s=a.getMinutes(),l=a.getSeconds();switch(e){case 0:t=n+"年"+r+"月"+o+"日";break;case 1:t=n+"-"+r+"-"+o+" "+i+":"+s+":"+l;break;case 2:t=n+"年"+r+"月"+o+"日"+i+"时"+s+"分"+l+"秒";break;case 3:t=n+"-"+r+"-"+o+" "+i+":"+s;break;case 4:t=n+"年"+r+"月"+o+"日  "+i+"时"+s+"分";break;case 5:t=r+"/"+o+"/"+n;break;case 6:t=n+"-"+r+"-"+o}return t}function data2ThousandSeparator(e,t){return t=t||0,((t?e.toFixed(2):e)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}function Json2Array(e){for(var t=0,a=[],n=0;n<e.rows;n++){t=0,a[n]=[];for(var r in e.data[n])a[n][t]=e.data[n][r],t++}return a}function Json2Head(e){var t,a="",n="title";for(var r in e.data[0])t='{"'+n+'":"'+r+'"},',a+=t;return a="["+a+"]",$.parseJSON(a)}function ReadData(e,t){var a={};return t=t?"GET":"POST",$.ajax({type:t,async:!1,url:e,success:function(e,t){var n=jQuery.parseJSON(e);a=n},error:function(e){console.log("read data error:<br>"),console.log(e.responseText)}}),a}function UpdateData(e,t,a){a=a?"GET":"POST",$.ajax({type:a,async:!1,url:e,success:function(e,t){var a=$.parseJSON(e);infoTips(a.message,a.type)}})}function GetSelectStr(e){var t,a='<option value="-1"></option>';for(t=0;t<e.rows;t++)a+='<option value="'+e.data[t][0]+'">'+e.data[t][1]+"</option>";return a}function InitSelect(e,t){$("select[name='"+e+"']").html(GetSelectStr(t))}function SetSelectVal(e,t){$("select[name='"+e+"']").val(t)}function SwitchSelect(e,t){var a="input:radio[name="+e+"]:nth("+t+")";return a}function GetSwitchValue(e,t){for(var a=$("input:radio[name="+e+"]:nth(0)").bootstrapSwitch("state"),n=1;t>=n&&!a;n++)a=$("input:radio[name="+e+"]:nth("+n+")").bootstrapSwitch("state");return n}function initDashboardDaterange(e){if(jQuery().daterangepicker){var t=[[moment(),moment()],[moment().subtract(1,"days"),moment().subtract(1,"days")],[moment().subtract(2,"days"),moment()],[moment().subtract(6,"days"),moment()],[moment().subtract(29,"days"),moment()],[moment().startOf("month"),moment().endOf("month")],[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],[moment().subtract(1,"year").startOf("month"),moment().subtract(1,"year").endOf("month")],[moment().startOf("quarters"),moment()],[moment().subtract(1,"quarters").startOf("quarters"),moment().subtract(1,"quarters").endOf("quarters")],[moment().quarter(1).startOf("quarters"),moment().quarter(2).endOf("quarters")],[moment().quarter(3).startOf("quarters"),moment().quarter(4).endOf("quarters")],[moment().quarter(1).startOf("quarters"),moment()]],a=["今天","昨天","过去三天","过去一周","过去30天","本月","上月","去年同期","本季度","上季度","上半年","下半年","今年"],n={};a.map(function(e,a){n[e]=t[a]});var r=function(a){return t[a][0].format(e)+" ~ "+t[a][1].format(e)},o=getUrlParam("daterange"),i=null==o?3:Number.parseInt(o);$("#dashboard-report-range").daterangepicker({opens:App.isRTL()?"right":"left",startDate:t[i][0],endDate:t[i][1],minDate:"01/01/2010",maxDate:"12/31/2099",dateLimit:{months:120},showDropdowns:!0,showWeekNumbers:!0,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!1,ranges:n,buttonClasses:["btn btn-sm"],applyClass:" green",cancelClass:["btn btn-sm btn-danger"],format:"MM/DD/YYYY",separator:" to ",locale:{applyLabel:"确定",cancelLabel:"取消",fromLabel:"从",toLabel:"到",customRangeLabel:"时间范围选择",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}},function(t,a){$("#dashboard-report-range span").html(t.format(e)+" ~ "+a.format(e))}),$("#dashboard-report-range span").html(r(i)),$("#dashboard-report-range").show()}}function getUrlParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=encodeURI(window.location.search).substr(1).match(t);return null!==a?decodeURI(a[2]):null}function handleParam(e,t,a){var n;return n=0===e.length?a:1===e.length?e[0]:e[t]}function xround(e,t){return e=parseFloat(e),Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function UTF2GBK(e){return escape(e).toLocaleLowerCase().replace(/%u/gi,"\\u")}function GBK2UTF(e){return unescape(e.replace(/\\u/gi,"%u"))}function jsLeft(e,t){return e.substring(0,t)}function jsRight(e,t){return e.substring(e.length-t,e.length)}function jsOnRight(e,t){return e.substring(0,e.length-t)}function getValidateRule(e){var t,a="";return $('form[name="'+e+'"] input[type="text"]').map(function(e){a+='"'+$(this).attr("name")+'":{"required":true,"number":true},'}),$('form[name="'+e+'"] select').map(function(e){a+='"'+$(this).attr("name")+'":{"required":true},'}),a="{"+jsOnRight(a,1)+"}",t=$.parseJSON(a),t.remark={require:!1,number:!1},t}function getFormData(e){var t="";$('form[name="'+e+'"] input[type="text"]').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),$('form[name="'+e+'"] input[type="password"]').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),$('form[name="'+e+'"] select').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),t="{"+jsOnRight(t,1)+"}";var a=$.parseJSON(t);return a}function sideBarHack(){$(".page-sidebar-menu li:not(.heading)").addClass("nav-item"),$(".page-sidebar-menu li.heading").addClass("nav-link nav-toggle"),$("ul.page-sidebar-menu a").addClass("nav-link nav-toggle")}function RoundedTheme(e){components_=e?"components-rounded":"components",$("#style_components").attr("href",App.getGlobalCssPath()+components_+".css")}function HeadFix(){$(document.body).outerWidth(!0)>480?$(".page-sidebar-wrapper").css("margin-top","-18px"):$(".page-sidebar-wrapper").css("margin-top","0px")}function handleCurSubMenu(){var e,t=window.location.href.split("/")[3].split("?")[0];if("qualitytable"==t||"qualitychart"==t)e=window.location.href.split("/")[3].split("&")[0];else{var a=window.location.href.split("?")[0].split("http://")[1].split(t)[1];e=t+("undefined"==typeof a?"":a)}var n=$('.page-sidebar [href*="'+e+'"]').parents("li");n.addClass("open active selected").find("a.nav-toggle:nth(0)").prepend('<span class="selected"></span>'),n.find(".arrow").addClass("open");var r=n.find("a.nav-toggle:nth(0)").text().trim();""!==r&&(r=r.split("   "),e=r.length>2?r[r.length-2]+" - "+r[r.length-1]:r[r.length-1],$("head title").text(e),$('.page-title [name="TableTitle"]').text(r[r.length-1]))}function appVersionTips(){var e=!1,t=Number.parseFloat(localStorage.appVersion);if("undefined"==typeof localStorage.appVersion?(localStorage.setItem("appVersion",curVersion),e=!0,t=0):curVersion>t&&(e=!0),e){localStorage.setItem("appVersion",curVersion);var a=getRootPath(1)+"/assets/pages/controller/data/update_info.json";$.get(a,function(e){e.appInfo.map(function(e){var a="更新说明";e.version>t&&(a+="\n\n<hr><p>【版本号】: "+e.version+"</p>\n<p>【更新日期】: "+e.date+"</p>\n<p>【近期功能更新】：</p>\n"+e.html,infoTips(a+"\n<hr><p>本信息下次不再提示！</p>"))})})}}function initDom(){if(HeadFix(),"undefined"!==$("#today")){var e=today(0);null!=getUrlParam("drill")&&(e+=' <span class="badge badge-info"> 数据钻取 </span>'),$("#today").html(e)}loadMenuSettings(),handleCurSubMenu(),setLocationUrl(),appVersionTips()}function setLocationUrl(){lastUrl="undefined"==typeof localStorage.lastUrl?getRootPath(1)+"/welcome":window.location.href,localStorage.setItem("lastUrl",lastUrl)}function hideSidebarTool(){$(".page-header .dropdown-quick-sidebar-toggler").hide()}function loadMenuSettings(){$(".page-sidebar-menu:eq(0)").html(GBK2UTF(localStorage.settings_default_menu))}function CreateTableHead(e,t){var a="",n="",r="",o=0;return e.header.map(function(e){o&&(n+="<th>"+e.title+"</th>"),o++}),t&&(r="<th>编辑 </th>",r+="<th>删除 </th>"),a+="<tr>"+n+r+"</tr>"}function CreateTableBody(e,t){var a,n,r="",o="",i="";return e.data.map(function(e){n=0,a=e[0],t&&(i='<td><a class="edit" href="javascript:;" data-sn="'+a+'">编辑</a></td>',i+='<td><a class="delete" href="javascript:;" data-sn="'+a+'">删除</a></td>'),o="",e.map(function(e){n&&(o+="<td>"+e+"</td>"),n++}),r+="<tr>"+o+i+"</tr>"}),r}function iChechBoxInit(){var e=$(".icheck");e.iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",increaseArea:"10"})}function SetiCheckChecked(e,t){$(".icheck[name='"+e+"']:nth("+t+")").iCheck("toggle")}function GetiCheckChecked(e){for(var t=$(".icheck[name='"+e+"']").length-1;t>=0;t--)if($(".icheck[name='"+e+"']:nth("+t+")").prop("checked"))return t;return-1}function SetSingleiCheck(e,t){t?$(".icheck[name='"+e+"']").iCheck("check"):$(".icheck[name='"+e+"']").iCheck("unCheck")}function SetRadioChecked(e,t){$("input[name='"+e+"']:nth("+t+")").attr("checked","true")}function GetRadioChecked(e){return $("input[name='"+e+"']:checked").val()}function initSelect2(){$.fn.select2.defaults.set("theme","bootstrap"),$(".select2, .select2-multiple").select2({width:null})}function SetSelect2Val(e,t){$("select[name='"+e+"']").select2("val",t)}function ResetSelect2(e){$("select[name='"+e+"']").select2("val","")}function GetSelect2Text(e){var t="";return $("select[name='"+e+"']").find("option:selected").each(function(){t+=","+this.text}),t.substr(1)}function AutoRefresh(e,t){var a=setInterval(function(){e()},t);$("body").data("refershID",a)}function StopRefresh(){"undefined"!=typeof $("body").data("refreshID")&&clearInterval($("body").data("refreshID"))}function getDateRange(){var e=$("#dashboard-report-range span").html(),t={start:e.split(" ~ ")[0],end:e.split(" ~ ")[1]};return t}function arrayRemove(e,t){if(isNaN(t)||t>e.length)return!1;for(var a=0,n=0;a<e.length;a++)e[a]!=e[t]&&(e[n++]=e[a]);e.length-=1}var curVersion=1.34;moment.locale("zh-cn");var TBL={PHYSIC:0,CHEM:1,SURFACE:2,PPR_OPR:3,PPR_PROD:4,PPR_MCH:5,PRT_PROD:6,PRT_MCH:7,PPR_VALIDATE:8,USR:20,DPMT:21,WORK_LOG_PROC:22,WORK_LOG:25,WORK_LOG_STUS:26,WORK_ERR_LIST:27,MICRO_BLOG:28,DB:29,API:30,SELECT:31,WORK_LOG_OPR:32,SETTINGS_MENULIST:33,SETTINGS_MENUDETAIL:34};window.console&&window.console.info("喜欢看 质量控制中心 的代码，还是发现了什么bug？不如和我们一起为它添砖加瓦吧！\n电话:8275-6129；\n微信:宾不厌诈");var dataConv=function(){return{currency:function(e){e=e.toString().split("").reverse().join("");for(var t="",a=0;a<e.length;a++)t+=e[a]+((a+1)%3===0&&a+1!=e.length?",":"");return t.split("").reverse().join("")},data:function(e){return parseInt(e.replace(",",""),10)}}},initAvatarImages=function(){var e=$(".username").data("avatar"),t=function(t){"undefined"==typeof t&&(t=e);var a=getRootPath(1)+"/demo/avatar/"+t+".jpg?"+Date.parse(new Date);$(".username").parent().find("img").attr("src",a),$(".profile-userpic img").attr("src",a),"undefined"!=typeof $(".username").data("avatar")&&localStorage.setItem("avatarUrl",a),"undefined"!=typeof localStorage.avatarUrl&&$(".lock-avatar-block img").attr("src",localStorage.avatarUrl)};t(1==$(".username").data("set-avatar")?e:"Avatar_none")}(),initSearchBox=function(){$(".page-header").on("click",".search-form",function(e){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(e){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})})};$("#QueryData").on("click",function(){$("body").toggleClass("page-quick-sidebar-open"),App.scrollTop()});var randomData=function(){return{flot:function(e,t,a){for(var n=[],r=[];n.length<e;){var o=n.length>0?n[n.length-1]:t,i=o+10*Math.random()-5;n.push(i)}for(var s=0;s<n.length;++s)r.push([s,n[s]]);return r}}}();$('form input[type="text"]').keydown(function(e){var t,a=e.keyCode,n=$('form input[type="text"]:enabled');switch(a){case 37:case 38:case 107:e.preventDefault(),t=n.index(this)-1,t>=0&&n.eq(t).focus();break;case 39:case 40:case 13:e.preventDefault(),t=n.index(this)+1,n.eq(t).focus()}});var shareTableExample=function(e){var t=$.base64.encode((new Date).getTime());$("#share textarea").text(" ");var a=getUrlParam("fixheader");$.ajax({url:getRootPath(0)+"/demo/tableShare.php",type:"POST",async:!1,data:{filename:t+".html",contents:e},success:function(e){try{var t=$.parseJSON(e),n=getRootPath(0)+t.url+("0"==a?"?fixheader=0":"");$("#share textarea").text(n),$("#successShare").click()}catch(r){console.log(r),infoTips(e),bsTips("报表分享失败，请稍后重试",0)}},error:function(e){console.log(e),bsTips("报表分享失败，请稍后重试",0)}})},namedColors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};
=======
function infoTips(e,t,a){"undefined"==typeof a&&(a=""),"undefined"==typeof t&&(t=0),infoType=["danger","success","info","warning"],App.alert({container:a,place:"append",type:infoType[t],message:e,close:!0,reset:!1,focus:!0,closeInSeconds:t?5:0,icon:"info-circle"})}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function bsTips(e,t){"undefined"==typeof t&&(t=0),toastr.options={closeButton:!0,debug:!1,positionClass:"toast-bottom-right",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:t?"5000":"0",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},infoType=["error","success","info","warning"],toastr[infoType[t]](e)}function PromotAlert(e,t){bootbox.prompt(e,function(e){null!==e&&success()})}function getRootPath(e){var t=window.document.location.href,a=window.document.location.pathname,n=t.indexOf(a),r=t.substring(0,n),o=a.substring(0,a.substr(1).indexOf("/")+1);return 0===e?r+o:r}function getRootUrl(e){return window.document.location.href.substring(0,window.document.location.href.indexOf(e))+e+"/"}function today(e){var t,a=new Date,n=a.getFullYear(),r=jsRight("0"+(a.getMonth()+1),2),o=jsRight("0"+a.getDate(),2),i=a.getHours(),s=a.getMinutes(),l=a.getSeconds();switch(e){case 0:t=n+"年"+r+"月"+o+"日";break;case 1:t=n+"-"+r+"-"+o+" "+i+":"+s+":"+l;break;case 2:t=n+"年"+r+"月"+o+"日"+i+"时"+s+"分"+l+"秒";break;case 3:t=n+"-"+r+"-"+o+" "+i+":"+s;break;case 4:t=n+"年"+r+"月"+o+"日  "+i+"时"+s+"分";break;case 5:t=r+"/"+o+"/"+n;break;case 6:t=n+"-"+r+"-"+o}return t}function data2ThousandSeparator(e,t){return t=t||0,((t?e.toFixed(2):e)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}function Json2Array(e){for(var t=0,a=[],n=0;n<e.rows;n++){t=0,a[n]=[];for(var r in e.data[n])a[n][t]=e.data[n][r],t++}return a}function Json2Head(e){var t,a="",n="title";for(var r in e.data[0])t='{"'+n+'":"'+r+'"},',a+=t;return a="["+a+"]",$.parseJSON(a)}function ReadData(e,t){var a={};return t=t?"GET":"POST",$.ajax({type:t,async:!1,url:e,success:function(e,t){var n=jQuery.parseJSON(e);a=n},error:function(e){console.log("read data error:<br>"),console.log(e.responseText)}}),a}function UpdateData(e,t,a){a=a?"GET":"POST",$.ajax({type:a,async:!1,url:e,success:function(e,t){var a=$.parseJSON(e);infoTips(a.message,a.type)}})}function GetSelectStr(e){var t,a='<option value="-1"></option>';for(t=0;t<e.rows;t++)a+='<option value="'+e.data[t][0]+'">'+e.data[t][1]+"</option>";return a}function InitSelect(e,t){$("select[name='"+e+"']").html(GetSelectStr(t))}function SetSelectVal(e,t){$("select[name='"+e+"']").val(t)}function SwitchSelect(e,t){var a="input:radio[name="+e+"]:nth("+t+")";return a}function GetSwitchValue(e,t){for(var a=$("input:radio[name="+e+"]:nth(0)").bootstrapSwitch("state"),n=1;t>=n&&!a;n++)a=$("input:radio[name="+e+"]:nth("+n+")").bootstrapSwitch("state");return n}function initDashboardDaterange(e){if(jQuery().daterangepicker){var t=[[moment(),moment()],[moment().subtract(1,"days"),moment().subtract(1,"days")],[moment().subtract(2,"days"),moment()],[moment().subtract(6,"days"),moment()],[moment().subtract(29,"days"),moment()],[moment().startOf("month"),moment().endOf("month")],[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],[moment().subtract(1,"year").startOf("month"),moment().subtract(1,"year").endOf("month")],[moment().startOf("quarters"),moment()],[moment().subtract(1,"quarters").startOf("quarters"),moment().subtract(1,"quarters").endOf("quarters")],[moment().quarter(1).startOf("quarters"),moment().quarter(2).endOf("quarters")],[moment().quarter(3).startOf("quarters"),moment().quarter(4).endOf("quarters")],[moment().quarter(1).startOf("quarters"),moment()]],a=["今天","昨天","过去三天","过去一周","过去30天","本月","上月","去年同期","本季度","上季度","上半年","下半年","今年"],n={};a.map(function(e,a){n[e]=t[a]});var r=function(a){return t[a][0].format(e)+" ~ "+t[a][1].format(e)},o=getUrlParam("daterange"),i=null==o?3:Number.parseInt(o);$("#dashboard-report-range").daterangepicker({opens:App.isRTL()?"right":"left",startDate:t[i][0],endDate:t[i][1],minDate:"01/01/2010",maxDate:"12/31/2099",dateLimit:{months:120},showDropdowns:!0,showWeekNumbers:!0,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!1,ranges:n,buttonClasses:["btn btn-sm"],applyClass:" green",cancelClass:["btn btn-sm btn-danger"],format:"MM/DD/YYYY",separator:" to ",locale:{applyLabel:"确定",cancelLabel:"取消",fromLabel:"从",toLabel:"到",customRangeLabel:"时间范围选择",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}},function(t,a){$("#dashboard-report-range span").html(t.format(e)+" ~ "+a.format(e))}),$("#dashboard-report-range span").html(r(i)),$("#dashboard-report-range").show()}}function getUrlParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=encodeURI(window.location.search).substr(1).match(t);return null!==a?decodeURI(a[2]):null}function handleParam(e,t,a){var n;return n=0===e.length?a:1===e.length?e[0]:e[t]}function xround(e,t){return e=parseFloat(e),Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function UTF2GBK(e){return escape(e).toLocaleLowerCase().replace(/%u/gi,"\\u")}function GBK2UTF(e){return unescape(e.replace(/\\u/gi,"%u"))}function jsLeft(e,t){return e.substring(0,t)}function jsRight(e,t){return e.substring(e.length-t,e.length)}function jsOnRight(e,t){return e.substring(0,e.length-t)}function getValidateRule(e){var t,a="";return $('form[name="'+e+'"] input[type="text"]').map(function(e){a+='"'+$(this).attr("name")+'":{"required":true,"number":true},'}),$('form[name="'+e+'"] select').map(function(e){a+='"'+$(this).attr("name")+'":{"required":true},'}),a="{"+jsOnRight(a,1)+"}",t=$.parseJSON(a),t.remark={require:!1,number:!1},t}function getFormData(e){var t="";$('form[name="'+e+'"] input[type="text"]').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),$('form[name="'+e+'"] input[type="password"]').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),$('form[name="'+e+'"] select').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),t="{"+jsOnRight(t,1)+"}";var a=$.parseJSON(t);return a}function sideBarHack(){$(".page-sidebar-menu li:not(.heading)").addClass("nav-item"),$(".page-sidebar-menu li.heading").addClass("nav-link nav-toggle"),$("ul.page-sidebar-menu a").addClass("nav-link nav-toggle")}function RoundedTheme(e){components_=e?"components-rounded":"components",$("#style_components").attr("href",App.getGlobalCssPath()+components_+".css")}function HeadFix(){$(document.body).outerWidth(!0)>480?$(".page-sidebar-wrapper").css("margin-top","-18px"):$(".page-sidebar-wrapper").css("margin-top","0px")}function handleCurSubMenu(){var e,t=window.location.href.split("/")[3].split("?")[0];if("qualitytable"==t||"qualitychart"==t)e=window.location.href.split("/")[3].split("&")[0];else{var a=window.location.href.split("?")[0].split("http://")[1].split(t)[1];e=t+("undefined"==typeof a?"":a)}var n=$('.page-sidebar [href*="'+e+'"]').parents("li");n.addClass("open active selected").find("a.nav-toggle:nth(0)").prepend('<span class="selected"></span>'),n.find(".arrow").addClass("open");var r=n.find("a.nav-toggle:nth(0)").text().trim();""!==r&&(r=r.split("   "),e=r.length>2?r[r.length-2]+" - "+r[r.length-1]:r[r.length-1],$("head title").text(e),$('.page-title [name="TableTitle"]').text(r[r.length-1]))}function appVersionTips(){var e=!1,t=Number.parseFloat(localStorage.appVersion);if("undefined"==typeof localStorage.appVersion?(localStorage.setItem("appVersion",curVersion),e=!0,t=0):curVersion>t&&(e=!0),e){localStorage.setItem("appVersion",curVersion);var a=getRootPath(1)+"/assets/pages/controller/data/update_info.json";$.get(a,function(e){e.appInfo.map(function(e){var a="更新说明";e.version>t&&(a+="\n\n<hr><p>【版本号】: "+e.version+"</p>\n<p>【更新日期】: "+e.date+"</p>\n<p>【近期功能更新】：</p>\n"+e.html,infoTips(a+"\n<hr><p>本信息下次不再提示！</p>"))})})}}function initDom(){HeadFix(),"undefined"!==$("#today")&&$("#today").text(today(0)),loadMenuSettings(),handleCurSubMenu(),setLocationUrl(),appVersionTips()}function setLocationUrl(){lastUrl="undefined"==typeof localStorage.lastUrl?getRootPath(1)+"/welcome":window.location.href,localStorage.setItem("lastUrl",lastUrl)}function hideSidebarTool(){$(".page-header .dropdown-quick-sidebar-toggler").hide()}function loadMenuSettings(){$(".page-sidebar-menu:eq(0)").html(GBK2UTF(localStorage.settings_default_menu))}function CreateTableHead(e,t){var a="",n="",r="",o=0;return e.header.map(function(e){o&&(n+="<th>"+e.title+"</th>"),o++}),t&&(r="<th>编辑 </th>",r+="<th>删除 </th>"),a+="<tr>"+n+r+"</tr>"}function CreateTableBody(e,t){var a,n,r="",o="",i="";return e.data.map(function(e){n=0,a=e[0],t&&(i='<td><a class="edit" href="javascript:;" data-sn="'+a+'">编辑</a></td>',i+='<td><a class="delete" href="javascript:;" data-sn="'+a+'">删除</a></td>'),o="",e.map(function(e){n&&(o+="<td>"+e+"</td>"),n++}),r+="<tr>"+o+i+"</tr>"}),r}function iChechBoxInit(){var e=$(".icheck");e.iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",increaseArea:"10"})}function SetiCheckChecked(e,t){$(".icheck[name='"+e+"']:nth("+t+")").iCheck("toggle")}function GetiCheckChecked(e){for(var t=$(".icheck[name='"+e+"']").length-1;t>=0;t--)if($(".icheck[name='"+e+"']:nth("+t+")").prop("checked"))return t;return-1}function SetSingleiCheck(e,t){t?$(".icheck[name='"+e+"']").iCheck("check"):$(".icheck[name='"+e+"']").iCheck("unCheck")}function SetRadioChecked(e,t){$("input[name='"+e+"']:nth("+t+")").attr("checked","true")}function GetRadioChecked(e){return $("input[name='"+e+"']:checked").val()}function initSelect2(){$.fn.select2.defaults.set("theme","bootstrap"),$(".select2, .select2-multiple").select2({width:null})}function SetSelect2Val(e,t){$("select[name='"+e+"']").select2("val",t)}function ResetSelect2(e){$("select[name='"+e+"']").select2("val","")}function GetSelect2Text(e){var t="";return $("select[name='"+e+"']").find("option:selected").each(function(){t+=","+this.text}),t.substr(1)}function AutoRefresh(e,t){var a=setInterval(function(){e()},t);$("body").data("refershID",a)}function StopRefresh(){"undefined"!=typeof $("body").data("refreshID")&&clearInterval($("body").data("refreshID"))}function getDateRange(){var e=$("#dashboard-report-range span").html(),t={start:e.split(" ~ ")[0],end:e.split(" ~ ")[1]};return t}function arrayRemove(e,t){if(isNaN(t)||t>e.length)return!1;for(var a=0,n=0;a<e.length;a++)e[a]!=e[t]&&(e[n++]=e[a]);e.length-=1}var curVersion=1.34;moment.locale("zh-cn");var TBL={PHYSIC:0,CHEM:1,SURFACE:2,PPR_OPR:3,PPR_PROD:4,PPR_MCH:5,PRT_PROD:6,PRT_MCH:7,PPR_VALIDATE:8,USR:20,DPMT:21,WORK_LOG_PROC:22,WORK_LOG:25,WORK_LOG_STUS:26,WORK_ERR_LIST:27,MICRO_BLOG:28,DB:29,API:30,SELECT:31,WORK_LOG_OPR:32,SETTINGS_MENULIST:33,SETTINGS_MENUDETAIL:34};window.console&&window.console.info("喜欢看 质量控制中心 的代码，还是发现了什么bug？不如和我们一起为它添砖加瓦吧！\n电话:8275-6129；\n微信:宾不厌诈");var dataConv=function(){return{currency:function(e){e=e.toString().split("").reverse().join("");for(var t="",a=0;a<e.length;a++)t+=e[a]+((a+1)%3===0&&a+1!=e.length?",":"");return t.split("").reverse().join("")},data:function(e){return parseInt(e.replace(",",""),10)}}},initAvatarImages=function(){var e=$(".username").data("avatar"),t=function(t){"undefined"==typeof t&&(t=e);var a=getRootPath(1)+"/demo/avatar/"+t+".jpg?"+Date.parse(new Date);$(".username").parent().find("img").attr("src",a),$(".profile-userpic img").attr("src",a),"undefined"!=typeof $(".username").data("avatar")&&localStorage.setItem("avatarUrl",a),"undefined"!=typeof localStorage.avatarUrl&&$(".lock-avatar-block img").attr("src",localStorage.avatarUrl)};t(1==$(".username").data("set-avatar")?e:"Avatar_none")}(),initSearchBox=function(){$(".page-header").on("click",".search-form",function(e){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(e){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})})};$("#QueryData").on("click",function(){$("body").toggleClass("page-quick-sidebar-open"),App.scrollTop()});var randomData=function(){return{flot:function(e,t,a){for(var n=[],r=[];n.length<e;){var o=n.length>0?n[n.length-1]:t,i=o+10*Math.random()-5;n.push(i)}for(var s=0;s<n.length;++s)r.push([s,n[s]]);return r}}}();$('form input[type="text"]').keydown(function(e){var t,a=e.keyCode,n=$('form input[type="text"]:enabled');switch(a){case 37:case 38:case 107:e.preventDefault(),t=n.index(this)-1,t>=0&&n.eq(t).focus();break;case 39:case 40:case 13:e.preventDefault(),t=n.index(this)+1,n.eq(t).focus()}});var shareTableExample=function(e){var t=$.base64.encode((new Date).getTime());$("#share textarea").text(" ");var a=getUrlParam("fixheader");$.ajax({url:getRootPath(0)+"/demo/tableShare.php",type:"POST",async:!1,data:{filename:t+".html",contents:e},success:function(e){try{var t=$.parseJSON(e),n=getRootPath(0)+t.url+("0"==a?"?fixheader=0":"");$("#share textarea").text(n),$("#successShare").click()}catch(r){console.log(r),infoTips(e),bsTips("报表分享失败，请稍后重试",0)}},error:function(e){console.log(e),bsTips("报表分享失败，请稍后重试",0)}})},namedColors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};
>>>>>>> c33bd51761e1cd444721ad07ba7c799456e6a744
=======
function infoTips(e,t,a){"undefined"==typeof a&&(a=""),"undefined"==typeof t&&(t=0),infoType=["danger","success","info","warning"],App.alert({container:a,place:"append",type:infoType[t],message:e,close:!0,reset:!1,focus:!0,closeInSeconds:t?5:0,icon:"info-circle"})}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function bsTips(e,t){"undefined"==typeof t&&(t=0),toastr.options={closeButton:!0,debug:!1,positionClass:"toast-bottom-right",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:t?"5000":"0",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},infoType=["error","success","info","warning"],toastr[infoType[t]](e)}function PromotAlert(e,t){bootbox.prompt(e,function(e){null!==e&&success()})}function getRootPath(e){var t=window.document.location.href,a=window.document.location.pathname,n=t.indexOf(a),r=t.substring(0,n),o=a.substring(0,a.substr(1).indexOf("/")+1);return 0===e?r+o:r}function getRootUrl(e){return window.document.location.href.substring(0,window.document.location.href.indexOf(e))+e+"/"}function today(e){var t,a=new Date,n=a.getFullYear(),r=jsRight("0"+(a.getMonth()+1),2),o=jsRight("0"+a.getDate(),2),i=a.getHours(),s=a.getMinutes(),l=a.getSeconds();switch(e){case 0:t=n+"年"+r+"月"+o+"日";break;case 1:t=n+"-"+r+"-"+o+" "+i+":"+s+":"+l;break;case 2:t=n+"年"+r+"月"+o+"日"+i+"时"+s+"分"+l+"秒";break;case 3:t=n+"-"+r+"-"+o+" "+i+":"+s;break;case 4:t=n+"年"+r+"月"+o+"日  "+i+"时"+s+"分";break;case 5:t=r+"/"+o+"/"+n;break;case 6:t=n+"-"+r+"-"+o}return t}function data2ThousandSeparator(e,t){return t=t||0,((t?e.toFixed(2):e)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}function Json2Array(e){for(var t=0,a=[],n=0;n<e.rows;n++){t=0,a[n]=[];for(var r in e.data[n])a[n][t]=e.data[n][r],t++}return a}function Json2Head(e){var t,a="",n="title";for(var r in e.data[0])t='{"'+n+'":"'+r+'"},',a+=t;return a="["+a+"]",$.parseJSON(a)}function ReadData(e,t){var a={};return t=t?"GET":"POST",$.ajax({type:t,async:!1,url:e,success:function(e,t){var n=jQuery.parseJSON(e);a=n},error:function(e){console.log("read data error:<br>"),console.log(e.responseText)}}),a}function UpdateData(e,t,a){a=a?"GET":"POST",$.ajax({type:a,async:!1,url:e,success:function(e,t){var a=$.parseJSON(e);infoTips(a.message,a.type)}})}function GetSelectStr(e){var t,a='<option value="-1"></option>';for(t=0;t<e.rows;t++)a+='<option value="'+e.data[t][0]+'">'+e.data[t][1]+"</option>";return a}function InitSelect(e,t){$("select[name='"+e+"']").html(GetSelectStr(t))}function SetSelectVal(e,t){$("select[name='"+e+"']").val(t)}function SwitchSelect(e,t){var a="input:radio[name="+e+"]:nth("+t+")";return a}function GetSwitchValue(e,t){for(var a=$("input:radio[name="+e+"]:nth(0)").bootstrapSwitch("state"),n=1;t>=n&&!a;n++)a=$("input:radio[name="+e+"]:nth("+n+")").bootstrapSwitch("state");return n}function initDashboardDaterange(e){if(jQuery().daterangepicker){var t=[[moment(),moment()],[moment().subtract(1,"days"),moment().subtract(1,"days")],[moment().subtract(2,"days"),moment()],[moment().subtract(6,"days"),moment()],[moment().subtract(29,"days"),moment()],[moment().startOf("month"),moment().endOf("month")],[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],[moment().subtract(1,"year").startOf("month"),moment().subtract(1,"year").endOf("month")],[moment().startOf("quarters"),moment()],[moment().subtract(1,"quarters").startOf("quarters"),moment().subtract(1,"quarters").endOf("quarters")],[moment().quarter(1).startOf("quarters"),moment().quarter(2).endOf("quarters")],[moment().quarter(3).startOf("quarters"),moment().quarter(4).endOf("quarters")],[moment().quarter(1).startOf("quarters"),moment()]],a=["今天","昨天","过去三天","过去一周","过去30天","本月","上月","去年同期","本季度","上季度","上半年","下半年","今年"],n={};a.map(function(e,a){n[e]=t[a]});var r=function(a){return t[a][0].format(e)+" ~ "+t[a][1].format(e)},o=getUrlParam("daterange"),i=null==o?3:Number.parseInt(o);$("#dashboard-report-range").daterangepicker({opens:App.isRTL()?"right":"left",startDate:t[i][0],endDate:t[i][1],minDate:"01/01/2010",maxDate:"12/31/2099",dateLimit:{months:120},showDropdowns:!0,showWeekNumbers:!0,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!1,ranges:n,buttonClasses:["btn btn-sm"],applyClass:" green",cancelClass:["btn btn-sm btn-danger"],format:"MM/DD/YYYY",separator:" to ",locale:{applyLabel:"确定",cancelLabel:"取消",fromLabel:"从",toLabel:"到",customRangeLabel:"时间范围选择",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}},function(t,a){$("#dashboard-report-range span").html(t.format(e)+" ~ "+a.format(e))}),$("#dashboard-report-range span").html(r(i)),$("#dashboard-report-range").show()}}function getUrlParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=encodeURI(window.location.search).substr(1).match(t);return null!==a?decodeURI(a[2]):null}function handleParam(e,t,a){var n;return n=0===e.length?a:1===e.length?e[0]:e[t]}function xround(e,t){return e=parseFloat(e),Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function UTF2GBK(e){return escape(e).toLocaleLowerCase().replace(/%u/gi,"\\u")}function GBK2UTF(e){return unescape(e.replace(/\\u/gi,"%u"))}function jsLeft(e,t){return e.substring(0,t)}function jsRight(e,t){return e.substring(e.length-t,e.length)}function jsOnRight(e,t){return e.substring(0,e.length-t)}function getValidateRule(e){var t,a="";return $('form[name="'+e+'"] input[type="text"]').map(function(e){a+='"'+$(this).attr("name")+'":{"required":true,"number":true},'}),$('form[name="'+e+'"] select').map(function(e){a+='"'+$(this).attr("name")+'":{"required":true},'}),a="{"+jsOnRight(a,1)+"}",t=$.parseJSON(a),t.remark={require:!1,number:!1},t}function getFormData(e){var t="";$('form[name="'+e+'"] input[type="text"]').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),$('form[name="'+e+'"] input[type="password"]').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),$('form[name="'+e+'"] select').map(function(e){t+='"'+$(this).attr("name")+'":"'+$(this).val()+'",'}),t="{"+jsOnRight(t,1)+"}";var a=$.parseJSON(t);return a}function sideBarHack(){$(".page-sidebar-menu li:not(.heading)").addClass("nav-item"),$(".page-sidebar-menu li.heading").addClass("nav-link nav-toggle"),$("ul.page-sidebar-menu a").addClass("nav-link nav-toggle")}function RoundedTheme(e){components_=e?"components-rounded":"components",$("#style_components").attr("href",App.getGlobalCssPath()+components_+".css")}function HeadFix(){$(document.body).outerWidth(!0)>480?$(".page-sidebar-wrapper").css("margin-top","-18px"):$(".page-sidebar-wrapper").css("margin-top","0px")}function handleCurSubMenu(){var e,t=window.location.href.split("/")[3].split("?")[0];if("qualitytable"==t||"qualitychart"==t)e=window.location.href.split("/")[3].split("&")[0];else{var a=window.location.href.split("?")[0].split("http://")[1].split(t)[1];e=t+("undefined"==typeof a?"":a)}var n=$('.page-sidebar [href*="'+e+'"]').parents("li");n.addClass("open active selected").find("a.nav-toggle:nth(0)").prepend('<span class="selected"></span>'),n.find(".arrow").addClass("open");var r=n.find("a.nav-toggle:nth(0)").text().trim();""!==r&&(r=r.split("   "),e=r.length>2?r[r.length-2]+" - "+r[r.length-1]:r[r.length-1],$("head title").text(e),$('.page-title [name="TableTitle"]').text(r[r.length-1]))}function appVersionTips(){var e=!1,t=Number.parseFloat(localStorage.appVersion);if("undefined"==typeof localStorage.appVersion?(localStorage.setItem("appVersion",curVersion),e=!0,t=0):curVersion>t&&(e=!0),e){localStorage.setItem("appVersion",curVersion);var a=getRootPath(1)+"/assets/pages/controller/data/update_info.json";$.get(a,function(e){e.appInfo.map(function(e){var a="更新说明";e.version>t&&(a+="\n\n<hr><p>【版本号】: "+e.version+"</p>\n<p>【更新日期】: "+e.date+"</p>\n<p>【近期功能更新】：</p>\n"+e.html,infoTips(a+"\n<hr><p>本信息下次不再提示！</p>"))})})}}function initDom(){HeadFix(),"undefined"!==$("#today")&&$("#today").text(today(0)),loadMenuSettings(),handleCurSubMenu(),setLocationUrl(),appVersionTips()}function setLocationUrl(){lastUrl="undefined"==typeof localStorage.lastUrl?getRootPath(1)+"/welcome":window.location.href,localStorage.setItem("lastUrl",lastUrl)}function hideSidebarTool(){$(".page-header .dropdown-quick-sidebar-toggler").hide()}function loadMenuSettings(){$(".page-sidebar-menu:eq(0)").html(GBK2UTF(localStorage.settings_default_menu))}function CreateTableHead(e,t){var a="",n="",r="",o=0;return e.header.map(function(e){o&&(n+="<th>"+e.title+"</th>"),o++}),t&&(r="<th>编辑 </th>",r+="<th>删除 </th>"),a+="<tr>"+n+r+"</tr>"}function CreateTableBody(e,t){var a,n,r="",o="",i="";return e.data.map(function(e){n=0,a=e[0],t&&(i='<td><a class="edit" href="javascript:;" data-sn="'+a+'">编辑</a></td>',i+='<td><a class="delete" href="javascript:;" data-sn="'+a+'">删除</a></td>'),o="",e.map(function(e){n&&(o+="<td>"+e+"</td>"),n++}),r+="<tr>"+o+i+"</tr>"}),r}function iChechBoxInit(){var e=$(".icheck");e.iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",increaseArea:"10"})}function SetiCheckChecked(e,t){$(".icheck[name='"+e+"']:nth("+t+")").iCheck("toggle")}function GetiCheckChecked(e){for(var t=$(".icheck[name='"+e+"']").length-1;t>=0;t--)if($(".icheck[name='"+e+"']:nth("+t+")").prop("checked"))return t;return-1}function SetSingleiCheck(e,t){t?$(".icheck[name='"+e+"']").iCheck("check"):$(".icheck[name='"+e+"']").iCheck("unCheck")}function SetRadioChecked(e,t){$("input[name='"+e+"']:nth("+t+")").attr("checked","true")}function GetRadioChecked(e){return $("input[name='"+e+"']:checked").val()}function initSelect2(){$.fn.select2.defaults.set("theme","bootstrap"),$(".select2, .select2-multiple").select2({width:null})}function SetSelect2Val(e,t){$("select[name='"+e+"']").select2("val",t)}function ResetSelect2(e){$("select[name='"+e+"']").select2("val","")}function GetSelect2Text(e){var t="";return $("select[name='"+e+"']").find("option:selected").each(function(){t+=","+this.text}),t.substr(1)}function AutoRefresh(e,t){var a=setInterval(function(){e()},t);$("body").data("refershID",a)}function StopRefresh(){"undefined"!=typeof $("body").data("refreshID")&&clearInterval($("body").data("refreshID"))}function getDateRange(){var e=$("#dashboard-report-range span").html(),t={start:e.split(" ~ ")[0],end:e.split(" ~ ")[1]};return t}function arrayRemove(e,t){if(isNaN(t)||t>e.length)return!1;for(var a=0,n=0;a<e.length;a++)e[a]!=e[t]&&(e[n++]=e[a]);e.length-=1}var curVersion=1.35;moment.locale("zh-cn");var TBL={PHYSIC:0,CHEM:1,SURFACE:2,PPR_OPR:3,PPR_PROD:4,PPR_MCH:5,PRT_PROD:6,PRT_MCH:7,PPR_VALIDATE:8,USR:20,DPMT:21,WORK_LOG_PROC:22,WORK_LOG:25,WORK_LOG_STUS:26,WORK_ERR_LIST:27,MICRO_BLOG:28,DB:29,API:30,SELECT:31,WORK_LOG_OPR:32,SETTINGS_MENULIST:33,SETTINGS_MENUDETAIL:34};window.console&&window.console.info("喜欢看 质量控制中心 的代码，还是发现了什么bug？不如和我们一起为它添砖加瓦吧！\n电话:8275-6129；\n微信:宾不厌诈");var dataConv=function(){return{currency:function(e){e=e.toString().split("").reverse().join("");for(var t="",a=0;a<e.length;a++)t+=e[a]+((a+1)%3===0&&a+1!=e.length?",":"");return t.split("").reverse().join("")},data:function(e){return parseInt(e.replace(",",""),10)}}},initAvatarImages=function(){var e=$(".username").data("avatar"),t=function(t){"undefined"==typeof t&&(t=e);var a=getRootPath(1)+"/demo/avatar/"+t+".jpg?"+Date.parse(new Date);$(".username").parent().find("img").attr("src",a),$(".profile-userpic img").attr("src",a),"undefined"!=typeof $(".username").data("avatar")&&localStorage.setItem("avatarUrl",a),"undefined"!=typeof localStorage.avatarUrl&&$(".lock-avatar-block img").attr("src",localStorage.avatarUrl)};t(1==$(".username").data("set-avatar")?e:"Avatar_none")}(),initSearchBox=function(){$(".page-header").on("click",".search-form",function(e){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(e){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})})};$("#QueryData").on("click",function(){$("body").toggleClass("page-quick-sidebar-open"),App.scrollTop()});var randomData=function(){return{flot:function(e,t,a){for(var n=[],r=[];n.length<e;){var o=n.length>0?n[n.length-1]:t,i=o+10*Math.random()-5;n.push(i)}for(var s=0;s<n.length;++s)r.push([s,n[s]]);return r}}}();$('form input[type="text"]').keydown(function(e){var t,a=e.keyCode,n=$('form input[type="text"]:enabled');switch(a){case 37:case 38:case 107:e.preventDefault(),t=n.index(this)-1,t>=0&&n.eq(t).focus();break;case 39:case 40:case 13:e.preventDefault(),t=n.index(this)+1,n.eq(t).focus()}});var shareTableExample=function(e){var t=$.base64.encode((new Date).getTime());$("#share textarea").text(" ");var a=getUrlParam("fixheader");$.ajax({url:getRootPath(0)+"/demo/tableShare.php",type:"POST",async:!1,data:{filename:t+".html",contents:e},success:function(e){try{var t=$.parseJSON(e),n=getRootPath(0)+t.url+("0"==a?"?fixheader=0":"");$("#share textarea").text(n),$("#successShare").click()}catch(r){console.log(r),infoTips(e),bsTips("报表分享失败，请稍后重试",0)}},error:function(e){console.log(e),bsTips("报表分享失败，请稍后重试",0)}})},namedColors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};
>>>>>>> ab01391ef6a111bb323c6e19dc2358b058030200
//# sourceMappingURL=CommonFunctions.min.js.map